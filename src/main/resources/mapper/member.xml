<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.robot.cose.mapper.MemberMapper"> <!-- 인테페이스 위치로 맞춰야함 -->

	<insert id="registerNewMember" parameterType="com.robot.cose.dto.MemberDTO">
		INSERT INTO member (email,uuid, logintype)
		VALUES
			(#{email}, #{uuid}, #{logintype});
	</insert>

 	<select id="selectAll">
		SELECT  email,
				password,
				name,
				tel,
				birthday,
				nicname,
				place,
				gender,
				taste,
				coupleId
		FROM MEMBER
	</select>

	<select id="isNewMember" resultType="Boolean" parameterType="String">
		SELECT EXISTS (
			SELECT 1
			FROM member
			WHERE email = #{email}
		) AS is_exist;
	</select>

	<select id="checkMemberNeedMoreinfo" resultType="Boolean" parameterType="String">
		SELECT EXISTS (
			SELECT 1
			FROM member
			WHERE email = #{email} and dob IS NULL
		) AS is_exist;
	</select>


	
</mapper>